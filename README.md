# PayTrack
В этом бэкэнд-сервере присутствуют следующие эндпоинты:
__/users__, с помощью которых пользователь может зарегистрироваться, получить данные о себе (id, email, логин, полностью имя), получить список своих счетов (кошельков) и балансов, список своих платежей;
__/admins__ с помощью которых администратор может авторизоваться по email, получить данные о себе (id, email, логин, полностью имя), создать/удалить/обновить пользователя (или нового администратора), получить список пользователей и список их счетов с балансами;
__/payments__, с помощью которого  можно проводить транзакции пользователей.
### Инструкция по общей подготовке к запуску бэкенд-сервера (обязательна):
  1.Клонируем репозиторий с сайта GitHub и заходим в директорию с проектом:
  ```
  git clone https://github.com/NoRIS95/PayTrack.git
  cd PayTrack

  ```
  2.Копируем шаблон .env .и вписываем туда нужные данные:
  ```
  cp .env.template .env
  ```
  3.Вписываем в .env нужные данные
  ```
  POSTGRES_USER=<сюда вставить имя postgres пользователя>
  POSTGRES_PASSWORD=<сюда вставить пароль от postgres>
  POSTGRES_DB=<сюда вставить название базы данных>
  POSTGRES_HOST=<сюда вписать localhost или db в зависимости от того, как будет запускаться проект>
  POSTGRES_PORT=<сюда вписать порт, от которого будет запускаться проект>
  SECRET_KEY=<сюда вписать секретный ключ>
  ```
  ### Инструкция по подготовке к запуску бэкенд-сервера (если проект будет запускаться без Docker Compose):
  1.Устанавливаем Poetry, если он не установлен. Если установлен, то пропускаем этот шаг:
  ```
  curl -sSL https://install.python-poetry.org | python3 -
  ```
  2.Устанавливаем зависимости Poetry:
  ```
  poetry install
  ```
  3.Обновляем миграцию:
  ```
  alembic upgrade head
  ```
  4.Запускаем сервер:
  ```
  poetry run uvicorn app.main:app --reload
  ```
  ### Инструкция по подготовке к запуску бэкенд-сервера (если проект будет запускаться без Docker Compose):
  1.Создаём контейнер в фоновом режиме
  ```
  sudo docker-compose up --build -d
  ```
  2.Создаём миграции в контейнере:
  ```
  sudo docker exec -it paytrack-app-1 python /app/migrates_for_docker.py
  ```